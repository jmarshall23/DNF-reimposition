/*******************************************************************************
 * Details_Generic_PaperAirplane generated by Eliot.UELib using UELib.CLI.
 * Eliot.UELib Â© 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class Details_Generic_PaperAirplane extends Details_Generic
	abstract
	collapsecategories;

var() noexport float InitialThrust "Initial force given to object when thrown by player.";
var() noexport float ForceInterval "Time in seconds between random force application.";
var() noexport float ForceIntervalVariance "How much to vary ForceInterval.";
var() noexport float ForceAmount "Amount of force to apply at each ForceInterval.";
var() noexport float ForceAmountVariance "How much to vary ForceAmount.";
var() Vector CenterOfMassOffset;

event Trigger(Actor Other, Pawn EventInstigator)
{
	__NFUN_607__(__NFUN_226__(ForceInterval, ForceIntervalVariance), false, 'AdjustHeading');
	__NFUN_820__(__NFUN_234__(__NFUN_263__(__NFUN_232__(1, 0, 0), Rotation), InitialThrust), GetCOM());
	return;
}

function Vector GetCOM()
{
	local float DrawScaleChange;
	local Vector COM, DrawScale3DChange;

	__NFUN_594__(DrawScaleChange, DrawScale3DChange);
	COM = __NFUN_263__(CenterOfMassOffset, Rotation);
	__NFUN_247__(COM, __NFUN_235__(DrawScaleChange, DrawScale3DChange));
	__NFUN_249__(COM, Location);
	return COM;
	return;
}

function Vector GetImpulseLocation_Throwing()
{
	local float DrawScaleChange;
	local Vector COM, DrawScale3DChange;

	__NFUN_594__(DrawScaleChange, DrawScale3DChange);
	COM = CenterOfMassOffset;
	__NFUN_247__(COM, __NFUN_235__(DrawScaleChange, DrawScale3DChange));
	return COM;
	return;
}

function Rotator GetBaseRotation_Dropping(Pawn Thrower, Rotator TestDropRotation)
{
	return __NFUN_265__(-8192, TestDropRotation.Yaw, 0);
	return;
}

simulated function Rotator AdjustDropDirection_Throwing(Pawn Thrower, Rotator DropDirection)
{
	return Rotation;
	return;
}

function float GetImpulseStrength_Throwing(Pawn Thrower, float BaseStrength, float HeldTime)
{
	return __NFUN_195__(InitialThrust, ThrowForceScale);
	return;
}

simulated function Vector AdjustAngularVelocity_Throwing(Pawn Thrower, Vector CurrentAngularVelocity)
{
	return __NFUN_232__(0, 0, 0);
	return;
}

simulated function UnGrabbed(Pawn Grabber, bool Thrown)
{
	super(dnDecoration).UnGrabbed(Grabber, Thrown);
	// End:0x44
	if(__NFUN_148__(Thrown, __NFUN_340__(DukePlayer(Grabber), none)))
	{
		DukePlayer(Grabber).GivePermanentEgoCapAward(12);
	}
	__NFUN_607__(__NFUN_226__(ForceInterval, ForceIntervalVariance), false, 'AdjustHeading');
	return;
}

function AdjustHeading()
{
	local Vector LinVel, Direction, LocationHit;

	__NFUN_794__(LinVel);
	// End:0x23
	if(__NFUN_200__(__NFUN_252__(LinVel), 80))
	{
		__NFUN_608__('AdjustHeading');
		return;
	}
	Direction = __NFUN_232__(0, 0, 1);
	// End:0x60
	if(__NFUN_201__(__NFUN_222__(), 0.5))
	{
		LocationHit = __NFUN_232__(0, 2, 0);		
	}
	else
	{
		LocationHit = __NFUN_232__(0, -2, 0);
	}
	LocationHit = __NFUN_238__(__NFUN_263__(LocationHit, Rotation), Location);
	__NFUN_819__(__NFUN_234__(__NFUN_263__(Direction, Rotation), __NFUN_226__(ForceAmount, ForceAmountVariance)), LocationHit);
	__NFUN_607__(__NFUN_226__(ForceInterval, ForceIntervalVariance), false, 'AdjustHeading');
	return;
}

defaultproperties
{
	ForceInterval=1
	ForceIntervalVariance=0.75
	ForceAmount=300
	HealthPrefab=0
	DamageTypesIgnored=/* Array type was not detected. */
	Pitch=true
	UsePhrase="<?int?dnDecorations.Details_Generic_PaperAirplane.UsePhrase?>"
	GrabInfo=(bCanDuckWhileHeld=true,MountItemOverride=mount_handright,MountOrigin=(X=1.291717E-41,Y=2.797242E-17,Z=0),Z=0)
	ThrowForceScale=0.5
	SpawnOnDestroyedSimple=/* Array type was not detected. */
}